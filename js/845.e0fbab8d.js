"use strict";(self.webpackChunkvue3_antd_admin=self.webpackChunkvue3_antd_admin||[]).push([[845],{30436:function(e,a,t){t.a(e,(async function(e){t(93300);var l=t(96461),o=(t(12431),t(66900)),n=(t(84324),t(95878)),r=t(66252),s=t(2262),u=t(3577),d=t(79811),i=t(88075),c=t(70027),m=e([i]);i=(m.then?await m:m)[0];const f={class:"sys-server-stat-container"},w={class:"disk-info"},U={class:"disk-info--item"},v={class:"disk-info"},S={class:"disk-info--item"};a.Z=(0,r.aZ)({name:"SystemMonitorServe",setup(e){let a=-1;const t=(0,s.qj)({runtime:{os:"",arch:"",nodeVersion:"",npmVersion:""},disk:{size:0,used:0,available:0},memory:{total:0,available:0},cpu:{manufacturer:"",brand:"",physicalCores:0,model:"",speed:0,rawCurrentLoad:0,rawCurrentLoadIdle:0,coresLoad:[]}}),{runtime:m,disk:Z,memory:k,cpu:b}=(0,s.BK)(t),_=(0,r.Fl)((()=>({size:(0,d.GR)(Z.value.size),used:(0,d.GR)(Z.value.used),available:(0,d.GR)(Z.value.available)}))),p=(0,r.Fl)((()=>({total:(0,d.GR)(k.value.total),free:(0,d.GR)(k.value.available),used:(0,d.GR)(k.value.total-k.value.available)}))),W=(0,r.Fl)((()=>Z.value.size<=0?0:Math.floor(Z.value.used/Z.value.size*100))),P=(0,r.Fl)((()=>k.value.total<=0?0:Math.floor((k.value.total-k.value.available)/k.value.total*100))),h=(0,r.Fl)((()=>`${b.value.manufacturer} ${b.value.brand} @ ${b.value.speed}GHz`)),z=async()=>{const e=await(0,i.P)();m.value=e.runtime,Z.value=e.disk,k.value=e.memory,b.value=e.cpu};z();const y=e=>e<30?"#5cb87a":e<70?"#e6a23c":"#f53f3f",C=(e,a)=>a<=0?0:Math.floor(e/a*100);return(0,r.bv)((()=>{a=setInterval(z,1e4)})),(0,r.Jd)((()=>{clearInterval(a)})),(e,a)=>((0,r.wg)(),(0,r.iD)("div",f,[(0,r.Wm)((0,s.SU)(n.ZP),{class:"stat-card",title:"运行环境"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,s.SU)(o.ZP),{column:1,"label-style":{width:"50%"}},{default:(0,r.w5)((()=>[(0,r.Wm)((0,s.SU)(o.ZP).Item,{label:"操作系统"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,u.zw)((0,s.SU)(m).os),1)])),_:1}),(0,r.Wm)((0,s.SU)(o.ZP).Item,{label:"系统架构"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,u.zw)((0,s.SU)(m).arch),1)])),_:1}),(0,r.Wm)((0,s.SU)(o.ZP).Item,{label:"Node版本"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,s.SU)(l.Z),{color:"processing",size:"small"},{default:(0,r.w5)((()=>[(0,r.Uk)("v"+(0,u.zw)((0,s.SU)(m).nodeVersion),1)])),_:1})])),_:1}),(0,r.Wm)((0,s.SU)(o.ZP).Item,{label:"NPM版本"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,s.SU)(l.Z),{color:"processing",size:"small"},{default:(0,r.w5)((()=>[(0,r.Uk)("v"+(0,u.zw)((0,s.SU)(m).npmVersion),1)])),_:1})])),_:1})])),_:1})])),_:1}),(0,r.Wm)((0,s.SU)(n.ZP),{class:"stat-card",title:"CPU"},{default:(0,r.w5)((()=>[(0,r.Wm)((0,s.SU)(o.ZP),{column:1,"label-style":{width:"50%"},"content-style":{width:"50%"}},{default:(0,r.w5)((()=>[(0,r.Wm)((0,s.SU)(o.ZP).Item,{label:"详细"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,u.zw)((0,s.SU)(h)),1)])),_:1}),(0,r.Wm)((0,s.SU)(o.ZP).Item,{label:"负载"},{default:(0,r.w5)((()=>[(0,r.Wm)(c.Z,{percent:C((0,s.SU)(b).rawCurrentLoad,(0,s.SU)(b).rawCurrentLoadIdle+(0,s.SU)(b).rawCurrentLoad),strokeColor:y},null,8,["percent"])])),_:1}),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,s.SU)(b).coresLoad,((e,a)=>((0,r.wg)(),(0,r.j4)((0,s.SU)(o.ZP).Item,{key:a,label:`核心${a+1} 负载`},{default:(0,r.w5)((()=>[(0,r.Wm)(c.Z,{percent:C(e.rawLoad,e.rawLoad+e.rawLoadIdle),strokeColor:y},null,8,["percent"])])),_:2},1032,["label"])))),128))])),_:1})])),_:1}),(0,r.Wm)((0,s.SU)(n.ZP),{class:"stat-card",title:"磁盘"},{default:(0,r.w5)((()=>[(0,r._)("div",w,[(0,r.Wm)((0,s.SU)(o.ZP),{class:"disk-info--item",column:1},{default:(0,r.w5)((()=>[(0,r.Wm)((0,s.SU)(o.ZP).Item,{label:"总空间"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,u.zw)((0,s.SU)(_).size),1)])),_:1}),(0,r.Wm)((0,s.SU)(o.ZP).Item,{label:"已用空间"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,u.zw)((0,s.SU)(_).used),1)])),_:1}),(0,r.Wm)((0,s.SU)(o.ZP).Item,{label:"可用空间"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,u.zw)((0,s.SU)(_).available),1)])),_:1})])),_:1}),(0,r._)("div",U,[(0,r.Wm)(c.Z,{type:"dashboard",percent:(0,s.SU)(W),width:100,strokeColor:y},null,8,["percent"])])])])),_:1}),(0,r.Wm)((0,s.SU)(n.ZP),{class:"stat-card",title:"内存"},{default:(0,r.w5)((()=>[(0,r._)("div",v,[(0,r.Wm)((0,s.SU)(o.ZP),{class:"disk-info--item",column:1},{default:(0,r.w5)((()=>[(0,r.Wm)((0,s.SU)(o.ZP).Item,{label:"总内存"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,u.zw)((0,s.SU)(p).total),1)])),_:1}),(0,r.Wm)((0,s.SU)(o.ZP).Item,{label:"已用内存"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,u.zw)((0,s.SU)(p).used),1)])),_:1}),(0,r.Wm)((0,s.SU)(o.ZP).Item,{label:"可用内存"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,u.zw)((0,s.SU)(p).free),1)])),_:1})])),_:1}),(0,r._)("div",S,[(0,r.Wm)(c.Z,{type:"dashboard",percent:(0,s.SU)(P),width:100,strokeColor:y},null,8,["percent"])])])])),_:1})]))}})}))},88075:function(e,a,t){t.a(e,(async function(e){t.d(a,{P:function(){return r}});var l=t(30803),o=t(5155),n=e([l]);function r(){return(0,l.W)({url:o.default.stat,method:"get"})}l=(n.then?await n:n)[0]}))},70027:function(e,a,t){t.d(a,{Z:function(){return d}});t(63197);var l=t(31e3),o=t(66252),n=t(2262),r=t(3577),s=t(98029),u=(0,o.aZ)({props:{...(0,s.O)(),strokeColor:{type:[String,Object,Function]}},setup(e){const a=e,t=(0,o.Fl)((()=>"function"==typeof a.strokeColor?{...a,strokeColor:a.strokeColor(a.percent)}:{...a,strokeColor:a.strokeColor}));return(e,a)=>((0,o.wg)(),(0,o.j4)((0,n.SU)(l.Z),(0,r.vs)((0,o.F4)((0,n.SU)(t))),null,16))}});var d=u},72845:function(e,a,t){t.a(e,(async function(e){t.r(a);var l=t(86376),o=(t(16649),t(83744)),n=e([l]);l=(n.then?await n:n)[0];const r=(0,o.Z)(l.Z,[["__scopeId","data-v-98a0dc98"]]);a.default=r}))},86376:function(e,a,t){t.a(e,(async function(e){t.d(a,{Z:function(){return l.Z}});var l=t(30436),o=e([l]);l=(o.then?await o:o)[0]}))},16649:function(){}}]);